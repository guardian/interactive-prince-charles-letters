<div class='guLetter' id='letter-{{id}}' >
	

	<div class='colA'>
		<div class='letterNumber f-headline'>{{id}}
			<twitterTemplate />
		</div>
		<div class='letterInfo'>

			<div class='letterDate f-textSans'>{{date}}</div>
			<div class='letterRecipient f-bodyHeading'>{{recipient}}</div>
			{{#topic}}<div class='letterTopic f-bodyCopy'>{{topic}}</div>{{/topic}}
			{{#pageImages:i}}
				<div class='letterImage'><a class='docLink' href='{{docurl}}'><img src ='http://s3.amazonaws.com/s3.documentcloud.org/documents/{{docid}}/pages/{{doclink}}-p{{i+1}}-small.gif' ></a></div>
			{{/pageImages}}
			{{#docurl}}<a class='docLink' href='{{docurl}}'><div class='viewDocument f-textSans'>View original document</div></a>{{/docurl}}

		</div>
	</div>

	<div class='colB'>
		{{#rows}}
		<div class='row'>
			

			{{#excerpt}}
			<div class='rowStack rowExtract'>

				<div class='extract f-textSans'>
					{{#imageurl}}
					<img src='{{imageurl}}' >
				{{/imageurl}}
					{{excerpt}}</div>
			</div>
			{{/excerpt}}

			{{#annotation}}
			<div class='rowStack'>
				<div class='annotation f-bodyCopy'>{{annotation}}</div>
			</div>
			{{/annotation}}

		</div>
		{{/rows}}

	</div>
	<div class='colC f-textSans'><a href='#'>^ Back to top</a></div>



</div>


<style>

.guLetter {
	padding: 50px 0;
	float: left;
}

.letterNumber {
	color: #e6711b;
	font-size: 56px;
	width: 64px;
	text-align: left;
	float: left;
}

.letterInfo {
	width: 75%;
	float: left;
}

.letterImage {
	width: 30%;
	border: 1px solid #f1f1f1;
	min-height: 100px;
	padding: 10px;
	float: left;
	margin: 5px 5px 5px 0 ;
}

.letterImage img {
	width: 100%;
	height: auto;
}

.letterRecipient {
	font-size: 24px;
	color: #333;
	margin: 10px 0;
}

.letter-topic {
	font-size: 18px;
}

.viewDocument {
	font-size: 14px;
}

.docLink {
	text-decoration: none;
	width: 100%;
	float: left;
}

.row {
	width: 100%;
	border-bottom: 1px dotted #eaeaea;
	margin-bottom: 20px;
	
}

.rowStack {
	width: 100%;

}

.rowStack img {
	width: 100%;
	border: 1px solid #fff5e9;
}

.rowExtract {
	
	background-size: 50px 50px;
}

.extract {

	background: #fff5e9 url(@@assetPath@@/imgs/quote.svg) 10px 15px no-repeat;
	background-size: 30px;
	padding: 10px 10px 10px 50px;
	font-size: 16px;
	line-height: 24px;
	color: #333;
	min-height: 50px;

}

.annotation {
	padding: 20px 0;
	font-size: 16px;
	line-height: 24px;
	color: #333;
}

.colA, .colB {
	float: left;
	width: 100%;
	margin-bottom: 20px;
}

.colC {
	float: left;
	width: 100%;
	padding-left: 20px;
	color: #bdbdbd;
	font-size: 14px;
	text-align: right;
}

.colC a {
	text-decoration: none;
	color: #bdbdbd;
	cursor: pointer;
}


@media (min-width: 440px){
	
}

@media (min-width: 740px){
	.letterNumber {
		font-size: 60px;
	}

	.rowStack {
		padding-left: 64px;
		
	}

	.rowExtract {
		background: url(@@assetPath@@/imgs/quote.svg) 0 20px no-repeat;
		background-size: 54px 50px;

	}

	.extract {
		background: #fff5e9;
		padding: 20px;
	}
}

@media (min-width: 980px){
	.colA {
		width: 260px;
		margin-right: 20px;
	}

	.colB {
		width: 620px;
	}

	.letterNumber {
		font-size: 60px;
	}
	.letterRecipient {
		font-size: 30px;
	}
}

@media (min-width: 1140px){
	.colA {
		width: 400px;
		margin-right: 20px;
	}

	.colB {
		width: 630px;
	}

	.letterNumber {
		font-size: 60px;
		width: 108px;
		margin-right: 20px;
	}

	.letterInfo {
		width: 195px;
	}
	.letterRecipient {
		font-size: 32px;
	}
}


@media (min-width: 1300px){
	.colA {
		width: 364px;

	}

	.colB {
		width: 722px;
		padding-left: 84px;

	}
	.colC {
		width: 110px;
	}

	.letterNumber {
		font-size: 72px;
	}

	.letterInfo {
		width: 235px;
	}
	.letterRecipient {
		font-size: 36px;
	}
}


</style>

<script>



	component.exports = {

		computed: {
			rows: function(){
				var id = this.get('id');
				var annotations = this.get('annotations');
				return annotations.filter(function(d){ return (d.id == id) ? true : false; })
			},
			pageImages: function(){
				var p =  this.get('pages');
				console.log(p)
				if( p == ''){
					return 0
				} else {
					return new Array(p)
				}
				
			}
		},
		decorators: {
			
	
		}

	}



</script>



